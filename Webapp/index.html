<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <title>Umbrella RPI</title>
        
        <link rel="stylesheet" href="main.css">
		<link rel="stylesheet" href="dygraph.css">
		<link rel="icon" 
      type="image/jpg" 
      href="icon.jpg" />
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dygraph/2.1.0/dygraph.js"></script>
	
    </head>
    <body>
        
    
        <img alt="umbrella" src="header.jpg" />
       
        
        <h1>Weather Tracker</h1>
        <h2>Live Weather Data</h2>
        

        <p>
            Code here for live weather data.
        </p>
        
             
  
        <h2>Historic Weather Data</h2>
		
<div id="graphdiv1"class="weathergraph"></div>
<div id="graphdiv2"class="weathergraph""></div>
<div id="graphdiv3"class="weathergraph"></div>
<div id="graphdiv4"class="weathergraph"></div>
<script type="text/javascript">
  g1 = new Dygraph(
    document.getElementById("graphdiv1"),
    "http://localhost:8080/2017T.csv?"+(new Date()).getTime(), // path to CSV file bypassing the browser cache
    {
			title: 'Temperature',
            ylabel: 'Temperature (&#176;C)',
			xlabel: 'Date',
			axes: {
				y: {
				valueFormatter: function(v) {
				return v + '&#176;C';  // controls formatting in the legend/mouseover
				}}},
			valueRange: [0, 30.1],
			showRangeSelector: true,
			visibility: [true,false,false,false],
			titleHeight: 45,
			xLabelHeight: 30,
			color: 'red',
			rangeSelectorPlotFillColor: "red",
			rangeSelectorBackgroundStrokeColor : "",
			rangeSelectorPlotFillGradientColor: "",
			rangeSelectorPlotStrokeColor: "",
			rangeSelectorHeight: 20
	}          // options
  );
  
   g2 = new Dygraph(
    document.getElementById("graphdiv2"),
    "http://localhost:8080/2017T.csv?"+(new Date()).getTime(), // path to CSV file bypassing the browser cache
    {
			title: 'Pressure',
            ylabel: 'Pressure (mbar)',
			xlabel: 'Date',
			axes: {
				y: {
				valueFormatter: function(v) {
				return v + 'mbar';  // controls formatting in the legend/mouseover
				}}},
			valueRange: [940, 1060.5],
            showRangeSelector: true,
			visibility: [false,true,false,false],
			titleHeight: 45,
			xLabelHeight: 30,
			color: 'green',
			rangeSelectorPlotFillColor: "green",
			rangeSelectorBackgroundStrokeColor : "",
			rangeSelectorPlotFillGradientColor: "",
			rangeSelectorPlotStrokeColor: "",
			rangeSelectorHeight: 20
	
	}          // options
  );
  
     g3 = new Dygraph(
    document.getElementById("graphdiv3"),
    "http://localhost:8080/2017T.csv?"+(new Date()).getTime(), // path to CSV file bypassing the browser cache
    {
			title: 'Humidity',
            ylabel: 'Relative Humidity (%)',
			xlabel: 'Date',
			axes: {
				y: {
				valueFormatter: function(v) {
				return v + '%';  // controls formatting in the legend/mouseover
				}}},	
			valueRange: [0, 100.5],			
            showRangeSelector: true,
			visibility: [false,false,true,false],
			titleHeight: 45,
			xLabelHeight: 30,
			color: 'blue',
			rangeSelectorPlotFillColor: "blue",
			rangeSelectorBackgroundStrokeColor : "",
			rangeSelectorPlotFillGradientColor: "",
			rangeSelectorPlotStrokeColor: "",
			rangeSelectorHeight: 20
	
	}          // options
  );
  
     g4 = new Dygraph(
    document.getElementById("graphdiv4"),
    "http://localhost:8080/2017T.csv?"+(new Date()).getTime(), // path to CSV file bypassing the browser cache
    {
			title: 'Brightness',
            ylabel: 'Brightness (mw?)',
			xlabel: 'Date',
			axes: {
				y: {
				valueFormatter: function(v) {
				return v + 'mW';  // controls formatting in the legend/mouseover
				}}},	
			valueRange: [0, 100.5],	
            showRangeSelector: true,
			visibility: [false,false,false,true],
			titleHeight: 45,
			xLabelHeight: 30,
			color: 'orange',
			rangeSelectorPlotFillColor: "orange",
			rangeSelectorBackgroundStrokeColor : "",
			rangeSelectorPlotFillGradientColor: "",
			rangeSelectorPlotStrokeColor: "",
			rangeSelectorHeight: 20
	
	}          // options
  );
</script>
        <ul>
            <li>umbrella code available on <a href="https://github.com/Ranuncolo/umbrella">GitHub</a></li>
        </ul>
        
    </body>
</html>